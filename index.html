<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SpLine Generator - Generatore di Spline su Griglia Cartesiana</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="app">
        <header>
            <h1>SpLine Generator</h1>
            <div class="toolbar">
                <button id="settingsBtn" class="btn">‚öôÔ∏è Impostazioni</button>
                <button id="clearBtn" class="btn">üóëÔ∏è Pulisci</button>
                <div class="tool-group">
                    <span>Strumenti:</span>
                    <button id="splineBtn" class="btn tool-btn active" data-tool="spline">üìè Spline</button>
                    <button id="rectBtn" class="btn tool-btn" data-tool="rectangle">‚¨ú Rettangolo</button>
                    <button id="circleBtn" class="btn tool-btn" data-tool="circle">‚≠ï Cerchio</button>
                    <button id="triangleBtn" class="btn tool-btn" data-tool="triangle">üî∫ Triangolo</button>
                </div>
                <div class="info">
                    <span id="coordinates">X: 0 mm, Y: 0 mm</span>
                </div>
            </div>
        </header>

        <main>
            <div id="canvasContainer">
                <canvas id="gridCanvas" width="1200" height="800"></canvas>
                <canvas id="shapeCanvas" width="1200" height="800"></canvas>
                <canvas id="splineCanvas" width="1200" height="800"></canvas>
            </div>
        </main>

        <!-- Modal Impostazioni -->
        <div id="settingsModal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>Impostazioni</h2>
                    <span class="close">&times;</span>
                </div>
                <div class="modal-body">
                    <div class="settings-section">
                        <h3>Griglia Cartesiana</h3>
                        <div class="setting-row">
                            <label for="minX">Minimo X (mm):</label>
                            <input type="number" id="minX" value="-100" step="10">
                        </div>
                        <div class="setting-row">
                            <label for="maxX">Massimo X (mm):</label>
                            <input type="number" id="maxX" value="100" step="10">
                        </div>
                        <div class="setting-row">
                            <label for="minY">Minimo Y (mm):</label>
                            <input type="number" id="minY" value="-100" step="10">
                        </div>
                        <div class="setting-row">
                            <label for="maxY">Massimo Y (mm):</label>
                            <input type="number" id="maxY" value="100" step="10">
                        </div>
                        <div class="setting-row">
                            <label for="gridSize">Dimensione griglia secondaria (mm):</label>
                            <input type="number" id="gridSize" value="10" min="1" step="1">
                        </div>
                        <div class="setting-row">
                            <label for="snapSize">Snap alla griglia (mm):</label>
                            <input type="number" id="snapSize" value="1" min="0.1" step="0.1">
                        </div>
                        <div class="setting-row">
                            <label for="enableSnap">Abilita snap:</label>
                            <input type="checkbox" id="enableSnap" checked>
                        </div>
                        <div class="setting-row">
                            <label for="pixelsPerMm">Pixel per mm (scala):</label>
                            <input type="number" id="pixelsPerMm" value="1" min="0.1" step="0.1">
                        </div>
                    </div>

                    <div class="settings-section">
                        <h3>Spline</h3>
                        <div class="setting-row">
                            <label for="samplingDistance">Distanza campionamento (mm):</label>
                            <input type="number" id="samplingDistance" value="2" min="0.1" step="0.1">
                        </div>
                        <div class="setting-row">
                            <label for="splineSmoothing">Fattore di smoothing:</label>
                            <input type="range" id="splineSmoothing" min="0" max="1" step="0.1" value="0.5">
                            <span id="smoothingValue">0.5</span>
                        </div>
                    </div>

                    <div class="settings-section">
                        <h3>Colori</h3>
                        <div class="setting-row">
                            <label for="splineColor">Colore spline:</label>
                            <input type="color" id="splineColor" value="#ff0000">
                        </div>
                        <div class="setting-row">
                            <label for="shapeColor">Colore forme:</label>
                            <input type="color" id="shapeColor" value="#0066cc">
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button id="saveSettings" class="btn btn-primary">Salva</button>
                    <button id="resetSettings" class="btn btn-secondary">Reset</button>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>